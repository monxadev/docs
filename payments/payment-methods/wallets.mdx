---
title: "Wallets"
description: "This page describes how merchants integrate digital Wallets as a payment option via Monxa"
---

## Overview

A digital **Wallet** (e-wallet) allows users to store value or link funding sources and authorize payments using the stored wallet or linked instruments. In many markets, digital wallets are a preferred method due to convenience, familiarity, and strong authentication.

By offering digital wallet payments via Monxa, merchants can:

- Provide a frictionless checkout experience
- Tap into local wallet popularity in Asia
- Leverage Monxaâ€™s settlement, reconciliation, and refund capabilities in one unified system

<Columns cols={2}>
  <Card title="1. Create a Charge" icon="star" iconType="solid" href="#step_1">
    Initiate the payment by creating a **charge** in your system with the transaction details.
  </Card>
  <Card title="2. Redirect Customer to e-Wallet" icon="diamond-turn-right" iconType="solid" href="#step_2">
    Use the `return_url` from Monxa to send the customer to their e-wallet app or hosted page.
  </Card>
  <Card title="3. Customer Authorizes Payment" icon="mobile-screen-button" iconType="solid" href="#step_3">
    The customer confirms the transaction by entering their **PIN/OTP** or using biometric authentication in their e-wallet.
  </Card>
  <Card title="4. Handle Webhooks" icon="anchor" iconType="solid" href="#">
    Once the e-wallet provider processes the payment, Monxa sends a **webhook notification** to update your system with the final status.
  </Card>
</Columns>

## Supported Channels

<Tabs>
  <Tab title="ðŸ‡®ðŸ‡© Indonesia">
    | Channel                               | Code             | **Currency** | **Refund**    | **Settlement** | Min Amount | Max  Amount |
    | :------------------------------------ | ---------------- | :----------- | :------------ | :------------- | ---------- | :---------- |
    | [DANA](https://www.dana.id/)          | `dana_wallet`    | IDR          | Full, Partial | T+2            | 100        | 20,000,000  |
    | [OVO](https://www.ovo.id/)            | `ovo_wallet`     | IDR          | Not Supported | T+2            | 100        | 20,000,000  |
    | [ShopeePay](https://shopeepay.co.id/) | `shopee_wallet`  | IDR          | Full          | T+2            | 100        | 20,000,000  |
    | [LinkAja](https://linkaja.id/)        | `linkaja_wallet` | IDR          | Full          | T+2            | 100        | 20,000,000  |
  </Tab>
  <Tab title="ðŸ‡¹ðŸ‡­ Thailand">
    | **Channel** | Code               | **Currency** | **Refund**        | **Settlement** | Min Amount | Max Amount |
    | :---------- | ------------------ | :----------- | :---------------- | :------------- | :--------- | ---------- |
    | Alipay      | `ali_wallet`       | THB          | Not supported     | T+2            | 1          | 50,000     |
    | WeChat Pay  | `wechat_wallet`    | THB          | Not supported     | T+2            | 1          | 70,000     |
    | TrueMoney   | `truemoney_wallet` | THB          | Not supported     | T+2            | 1          | 50,000     |
    | LINE Pay    | `line_wallet`      | THB          | 3-5 business days | T+2            | 1          | 50,000     |
  </Tab>
</Tabs>

## Payment Flow

Generally, wallet payments follow two types of flows: **redirection (jump app)** or **push notification**.

The diagram below illustrates a simplified architecture of how Monxa, the merchant, and the wallet provider interact.

<Tabs>
  <Tab title="Redirection Flow">
    ```mermaid
    ---
    config:
      look: neo
    ---
    sequenceDiagram
      participant Customer as Customer
      participant Merchant as Merchant
      participant Monxa as Monxa
      participant Wallet as e-Wallet Provider
      autonumber
      Customer ->> Merchant: Checkout a transaction using E-Wallet
      Merchant ->> Monxa: Create E-Wallet transaction
      Monxa ->> Wallet: Initiate payment
      Wallet ->> Monxa: Return e-wallet URL
      Monxa ->> Merchant: Return e-wallet URL
      Merchant ->> Customer: Return e-wallet URL
      Customer ->> Wallet: Open e-wallet URL & input PIN/OTP
      Wallet ->> Wallet: Process the payment
      opt Success
        Wallet ->> Monxa: Notify success (callback)
        Monxa ->> Monxa: Update transaction to success
        Monxa ->> Merchant: Notify success (callback)
        Merchant ->> Monxa: Update transaction to success
        Monxa ->> Merchant: Settle fund to balance
        Merchant ->> Customer: Show transaction successful
      end
    ```
  </Tab>
  <Tab title="Push Notification Flow">
    ```mermaid
    ---
    config:
      look: neo
    ---
    sequenceDiagram
      participant Customer as Customer
      participant Merchant as Merchant
      participant Monxa as Monxa
      participant Wallet as e-Wallet Provider
    
      autonumber
      Customer ->> Merchant: Checkout a transaction using E-Wallet
      Merchant ->> Monxa: Create E-Wallet transaction
      Monxa ->> Wallet: Initiate payment
      Wallet ->> Customer: Push notification to mobile app
      Customer ->> Wallet: Approve payment via app (PIN/OTP/biometric)
      Wallet ->> Wallet: Process the payment
      opt Success
        Wallet ->> Monxa: Notify success (callback)
        Monxa ->> Monxa: Update transaction to success
        Monxa ->> Merchant: Notify success (callback)
        Merchant ->> Monxa: Update transaction to success
        Monxa ->> Merchant: Settle fund to balance
        Merchant ->> Customer: Show transaction successful
      end
    ```
  </Tab>
</Tabs>

<a id="step_1">
Step 1: Create a Charge</a>

(_Note: these are illustrative. Confirm actual parameter names with Monxaâ€™s API Reference._)

<Tip>
  **Endpoint: POST v1/charges**
</Tip>

<AccordionGroup>
  <Accordion title="Request Example : Chargeâ€‘only (DANA)">
    ```bash
    curl https://api.monxa.io/v1/charges \
      -H "Content-Type: application/json" \
      -H "Idempotency-Key: chg-12345-unique-key" \
      -d '{
        "amount": 150000,
        "currency": "IDR",
        "channel_code": "dana",
    	"channel_properties": {
    		"return_url": ""
    	}
        "reference_id": "INV-240001",
        "metadata": { "field_1": "A1234", field_2: "user@example.com" }
      }'
    ```
  </Accordion>
  <Accordion title="Response Example">
    ```json
    {
      "id": "chg_01JAB1XYN01P3",
      "reference_id": "INV-240001",
      "amount": 150000,
      "currency": "IDR",
      "status": "pending",
      "channel_code": "dana",
      "actions": {
        "type": "REDIRECT_CUSTOMER",
       	"redirect_url": "",
        "expires_at": "2025-10-07T09:15:00Z"
      },
      "created_at": "2025-10-07T09:10:00Z"
    }
    ```
  </Accordion>
</AccordionGroup>

<a id="step_2">
Step 2: Redirect User to Wallet</a>

After creating the payment request, use the response data to generate a QR code and present it to the user.

<a id="step_3">
Step 3: Customer Authorizes Payment</a>

<a id="step_4">
Step 4: Handle Webhooks & Update Payment Status</a>

Monxa will send an asynchronous webhook to your configured endpoint:

**Handling Logic (Merchant Side)**

- On `SUCCESS`: mark order paid, fulfill goods
- On `FAILED` or `CANCELLED`: notify user, optionally prompt fallback
- On `PENDING`: you may poll or await final callback

## Refunds / Reversal

If the e-wallet provider supports refunds back to wallet:

<Tip>
  **Endpoint: POST v1/refunds**
</Tip>

<AccordionGroup>
  <Accordion title="Request Example : Refund">
    ```bash
    curl https://api.monxa.io/v1/refunds \
      -H "Content-Type: application/json" \
      -H "Idempotency-Key: ref-12345-unique-key" \
      -d '{
        "charge_id": "chg_01JAB1XYN01P3",
        "currency": "IDR",
        "amount": "50000",
        "reference_id": "INV-240001",
    	"description": "",
        "metadata": { "field_1": "A1234", field_2: "user@example.com" }
      }'
    ```
  </Accordion>
  <Accordion title="Response Example">
    ```json
    {
      "id": "ref_01JAB1XYN01P3",
      "reference_id": "INV-240001",
      "amount": 150000,
      "currency": "IDR",
      "status": "pending",
      "channel_code": "dana",
      "actions": {
        "type": "REDIRECT_CUSTOMER",
       	"redirect_url": "",
        "expires_at": "2025-10-07T09:15:00Z"
      },
      "created_at": "2025-10-07T09:10:00Z"
    }
    ```
  </Accordion>
</AccordionGroup>

## Merchant Best Practices

- Place e-wallet options prominently in checkout, especially in regions where they are popular
- Use deep linking / SDK embed flows to minimize context switching
- Pre-validate wallet availability (region, currency, user status) before initiating the flow
- Handle `PENDING` status gracefully (polling, UI feedback)
- Log analytics around wallet provider, time to approve, dropoffs
- Provide alternative payment options if e-wallet fails
- If refund-to-wallet isnâ€™t supported, define clear fallback behavior (e.g. bank refund)
- Be cautious of transaction limits (some wallets limit per day / per transaction)
- Test across multiple devices, network conditions, and wallet states (e.g. insufficient balance)